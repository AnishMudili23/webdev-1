<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Online Book Store</title>

<style>
/* ===== GLOBAL ===== */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: "Segoe UI", sans-serif;
}
body{
  background:#f2f4f8;
  display:flex;
  min-height:100vh;
}

/* ===== SIDEBAR ===== */
aside{
  width:220px;
  background:#1e272e;
  color:white;
  padding:20px;
}
aside h2{
  text-align:center;
  margin-bottom:20px;
}
aside a{
  display:block;
  color:white;
  padding:10px;
  margin:8px 0;
  text-decoration:none;
  border-radius:6px;
}
aside a:hover{
  background:#485460;
}

/* ===== MAIN ===== */
main{
  flex:1;
  padding:25px;
}
.hidden{display:none}

/* ===== COMMON ===== */
button{
  padding:8px 12px;
  border:none;
  background:#0fbcf9;
  color:white;
  border-radius:5px;
  cursor:pointer;
}
button:hover{background:#0aa1d6}

input{
  width:100%;
  padding:8px;
  margin:6px 0;
  border:1px solid #ccc;
  border-radius:5px;
}

/* ===== HOME ===== */
.hero{
  background:linear-gradient(135deg,#0fbcf9,#575fcf);
  color:white;
  padding:50px;
  border-radius:10px;
}
.hero h1{margin-bottom:10px}

.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:20px;
  margin-top:30px;
}
.card{
  background:white;
  padding:15px;
  border-radius:10px;
  text-align:center;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
}
.card img{
  width:100px;
  height:140px;
  object-fit:cover;
}

/* ===== FORM ===== */
.form-box{
  max-width:400px;
  margin:auto;
  background:white;
  padding:25px;
  border-radius:10px;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
}

/* ===== CART ===== */
.cart-item{
  background:white;
  padding:15px;
  margin-bottom:10px;
  border-radius:8px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.qty button{
  padding:5px 10px;
  margin:0 5px;
}
</style>
</head>

<body>

<!-- ===== SIDEBAR ===== -->
<aside>
  <h2>ðŸ“š BookStore</h2>
  <a onclick="show('home')">Home</a>
  <a onclick="show('login')">Login</a>
  <a onclick="show('register')">Register</a>
  <a onclick="show('catalogue')">Catalogue</a>
  <a onclick="show('cart')">Cart (<span id="cartCount">0</span>)</a>
</aside>

<!-- ===== MAIN CONTENT ===== -->
<main>

<!-- HOME -->
<section id="home">
  <div class="hero">
    <h1>Welcome to Online Book Store</h1>
    <p>Read â€¢ Learn â€¢ Grow</p>
  </div>
  <div class="cards" id="featured"></div>
</section>

<!-- LOGIN -->
<section id="login" class="hidden">
  <div class="form-box">
    <h2>Login</h2>
    <input id="lEmail" placeholder="Email">
    <input id="lPass" type="password" placeholder="Password">
    <button onclick="login()">Login</button>
    <p id="loginMsg"></p>
  </div>
</section>

<!-- REGISTER -->
<section id="register" class="hidden">
  <div class="form-box">
    <h2>Register</h2>
    <input id="rName" placeholder="Name">
    <input id="rEmail" placeholder="Email">
    <input id="rPass" type="password" placeholder="Password">
    <button onclick="register()">Register</button>
    <p id="regMsg"></p>
  </div>
</section>

<!-- CATALOGUE -->
<section id="catalogue" class="hidden">
  <h2>Catalogue</h2>
  <input placeholder="Search book..." onkeyup="searchBooks(this.value)">
  <div class="cards" id="bookList"></div>
</section>

<!-- CART -->
<section id="cart" class="hidden">
  <h2>Your Cart</h2>
  <div id="cartItems"></div>
  <h3>Total: â‚¹<span id="total">0</span></h3>
  <button onclick="clearCart()">Clear Cart</button>
</section>

</main>

<script>
/* ===== DATA ===== */
const books=[
 {id:1,title:"JavaScript Essentials",price:499,image:"https://via.placeholder.com/100x140"},
 {id:2,title:"HTML & CSS Mastery",price:399,image:"https://via.placeholder.com/100x140"},
 {id:3,title:"React Basics",price:599,image:"https://via.placeholder.com/100x140"},
 {id:4,title:"UI UX Design",price:449,image:"https://via.placeholder.com/100x140"}
];

/* ===== NAV ===== */
function show(id){
 document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
 document.getElementById(id).classList.remove("hidden");
 if(id==="cart") loadCart();
}

/* ===== HOME FEATURED ===== */
books.slice(0,3).forEach(b=>{
 featured.innerHTML+=`
 <div class="card">
  <img src="${b.image}">
  <h4>${b.title}</h4>
  <p>â‚¹${b.price}</p>
 </div>`;
});

/* ===== CATALOGUE ===== */
function loadBooks(list){
 bookList.innerHTML="";
 list.forEach(b=>{
  bookList.innerHTML+=`
  <div class="card">
   <img src="${b.image}">
   <h4>${b.title}</h4>
   <p>â‚¹${b.price}</p>
   <button onclick="addCart(${b.id})">Add</button>
  </div>`;
 });
}
loadBooks(books);

function searchBooks(txt){
 loadBooks(books.filter(b=>b.title.toLowerCase().includes(txt.toLowerCase())));
}

/* ===== AUTH ===== */
function register(){
 localStorage.setItem("user",JSON.stringify({
  email:rEmail.value,
  pass:rPass.value
 }));
 regMsg.innerText="Registered Successfully";
}

function login(){
 const u=JSON.parse(localStorage.getItem("user"));
 if(!u||u.email!==lEmail.value||u.pass!==lPass.value){
  loginMsg.innerText="Invalid Login";
  return;
 }
 show("catalogue");
}

/* ===== CART ===== */
function getCart(){return JSON.parse(localStorage.getItem("cart"))||[]}
function saveCart(c){
 localStorage.setItem("cart",JSON.stringify(c));
 cartCount.innerText=c.reduce((s,i)=>s+i.qty,0);
}

function addCart(id){
 const c=getCart();
 const item=c.find(i=>i.id===id);
 if(item) item.qty++;
 else{
  const b=books.find(x=>x.id===id);
  c.push({...b,qty:1});
 }
 saveCart(c);
}

function loadCart(){
 const c=getCart();
 cartItems.innerHTML="";
 let t=0;
 c.forEach((i,idx)=>{
  t+=i.price*i.qty;
  cartItems.innerHTML+=`
  <div class="cart-item">
   <span>${i.title}</span>
   <div class="qty">
    <button onclick="changeQty(${idx},-1)">-</button>
    ${i.qty}
    <button onclick="changeQty(${idx},1)">+</button>
   </div>
  </div>`;
 });
 total.innerText=t;
}

function changeQty(i,d){
 const c=getCart();
 c[i].qty+=d;
 if(c[i].qty<=0) c.splice(i,1);
 saveCart(c);
 loadCart();
}

function clearCart(){
 localStorage.removeItem("cart");
 loadCart();
 saveCart([]);
}

show("home");
</script>

</body>
</html>
